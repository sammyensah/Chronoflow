<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChronoFlow - Planning IA</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Onboarding -->
    <div class="modal onboarding-modal show" id="onboardingModal">
        <div class="modal-content onboarding-content">
            <div class="onboarding-step active" data-step="1">
                <div class="onboarding-header">
                    <h1>‚ö° Bienvenue</h1>
                    <p>Cr√©ons ton profil</p>
                </div>
                <div class="onboarding-body">
                    <div class="form-group">
                        <label>Pr√©nom *</label>
                        <input type="text" id="userName" placeholder="Marie">
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="userEmail" placeholder="marie@mail.com">
                    </div>
                    <button class="btn-primary" onclick="nextStep()">Suivant</button>
                </div>
            </div>
            
            <div class="onboarding-step" data-step="2">
                <div class="onboarding-header">
                    <h1>üéØ Choisis ton profil</h1>
                </div>
                <div class="onboarding-body">
                    <div class="template-grid">
                        <div class="template-card" onclick="finishOnboarding('student')">
                            <div class="template-icon">üéì</div>
                            <h3>√âtudiant</h3>
                            <p>Cours et r√©visions</p>
                        </div>
                        <div class="template-card" onclick="finishOnboarding('worker')">
                            <div class="template-icon">üíº</div>
                            <h3>Travailleur</h3>
                            <p>Projets</p>
                        </div>
                        <div class="template-card" onclick="finishOnboarding('custom')">
                            <div class="template-icon">‚ú®</div>
                            <h3>Perso</h3>
                            <p>√Ä ma fa√ßon</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- App -->
    <div class="app" style="display:none" id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="btn-icon" onclick="toggleSidebar()">‚ò∞</button>
                <div class="logo">
                    <span>‚ö°</span>
                    <h1>ChronoFlow</h1>
                </div>
            </div>
            <div class="header-right">
                <button class="btn-icon" onclick="toggleTheme()">üåô</button>
                <div class="streak">
                    <span>üî•</span>
                    <span id="streakNum">0</span>
                </div>
                <button class="btn-icon" onclick="goToProfile()">üë§</button>
            </div>
        </header>

        <div class="layout">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <nav>
                    <button class="nav-btn active" onclick="showView('planning')">
                        <span>üìã</span>
                        <span>Planning</span>
                    </button>
                    <button class="nav-btn" onclick="showView('calendar')">
                        <span>üìÖ</span>
                        <span>Calendrier</span>
                    </button>
                    <button class="nav-btn" onclick="showView('insights')">
                        <span>üìä</span>
                        <span>Insights</span>
                    </button>
                    <button class="nav-btn" onclick="showView('templates')">
                        <span>‚öôÔ∏è</span>
                        <span>Templates</span>
                    </button>
                    <button class="nav-btn" onclick="showView('badges')">
                        <span>üèÜ</span>
                        <span>Badges</span>
                    </button>
                </nav>
            </aside>

            <!-- Main -->
            <main class="main">
                <!-- AI Input -->
                <div class="ai-box" id="aiBox">
                    <textarea id="aiInput" placeholder="Ex: J'ai une √©val de maths dans 3 jours et j'ai rien r√©vis√©" rows="3"></textarea>
                    <button class="btn-gen" onclick="generate()">
                        <span>G√©n√©rer</span>
                        <span>‚ú®</span>
                    </button>
                </div>

                <!-- Planning View -->
                <div class="view active" id="viewPlanning">
                    <div class="view-header">
                        <h2>Planning</h2>
                        <div class="controls">
                            <button onclick="changeWeek(-1)">‚Üê</button>
                            <span id="weekLabel">Cette semaine</span>
                            <button onclick="changeWeek(1)">‚Üí</button>
                        </div>
                    </div>
                    
                    <div class="planning-grid" id="planningGrid">
                        <div class="empty">
                            <div class="empty-icon">üìÖ</div>
                            <h3>Planning vide</h3>
                            <p>Utilise l'IA pour commencer</p>
                        </div>
                    </div>

                    <div class="sections">
                        <div class="section">
                            <h3>üìç Aujourd'hui</h3>
                            <div id="today" class="events-list">
                                <p class="empty-text">Rien</p>
                            </div>
                        </div>
                        <div class="section">
                            <h3>üìÖ √Ä venir</h3>
                            <div id="upcoming" class="events-list">
                                <p class="empty-text">Rien</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calendar View -->
                <div class="view" id="viewCalendar">
                    <div class="view-header">
                        <h2>Calendrier</h2>
                        <div class="controls">
                            <button onclick="changeMonth(-1)">‚Üê</button>
                            <span id="monthLabel">F√©vrier 2026</span>
                            <button onclick="changeMonth(1)">‚Üí</button>
                        </div>
                    </div>
                    <div id="monthCalendar" class="month-cal"></div>
                </div>

                <!-- Insights View -->
                <div class="view" id="viewInsights">
                    <div class="view-header"><h2>Insights</h2></div>
                    <div id="insightsContent" class="insights-grid"></div>
                </div>

                <!-- Templates View -->
                <div class="view" id="viewTemplates">
                    <div class="view-header"><h2>Templates</h2></div>
                    <div id="templatesContent" class="insights-grid"></div>
                </div>

                <!-- Badges View -->
                <div class="view" id="viewBadges">
                    <div class="view-header"><h2>Badges</h2></div>
                    <div class="streak-big">
                        <div class="flame">üî•</div>
                        <div>
                            <h3><span id="streakDays">0</span> jours</h3>
                        </div>
                    </div>
                    <div id="badgesGrid" class="badges-grid"></div>
                </div>

                <!-- Profile View -->
                <div class="view" id="viewProfile">
                    <div class="view-header"><h2>Profil</h2></div>
                    <div class="profile">
                        <div class="profile-card">
                            <div class="avatar">üë§</div>
                            <h3 id="profileName">User</h3>
                        </div>
                        <div class="stats">
                            <div class="stat">
                                <span class="stat-num" id="statEvents">0</span>
                                <span>√âv√©nements</span>
                            </div>
                            <div class="stat">
                                <span class="stat-num" id="statStreak">0</span>
                                <span>Jours</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span>‚ú®</span>
        <span id="toastMsg"></span>
    </div>

    <!-- Loading -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <p>L'IA analyse...</p>
    </div>

    <script src="script.js"></script>
</body>
</html>
