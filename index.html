<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChronoFlow</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Crimson+Pro:wght@600;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- LANGUAGE SELECTOR (First time) -->
<div id="langScreen" class="auth-screen" style="display:none">
    <div class="auth-bg"><div class="auth-particles" id="particlesLang"></div></div>
    <div class="auth-container">
        <div class="ob-welcome">
            <div class="ob-icon animate-pop">âš¡</div>
            <h1 class="ob-title animate-down">ChronoFlow</h1>
            <p class="ob-sub animate-down delay-1">Choose your language</p>
        </div>
        <div class="lang-grid animate-up delay-2">
            <div class="lang-card" onclick="selectLang('fr')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 900 600'%3E%3Cpath fill='%230055A4' d='M0 0h300v600H0z'/%3E%3Cpath fill='%23FFF' d='M300 0h300v600H300z'/%3E%3Cpath fill='%23EF4135' d='M600 0h300v600H600z'/%3E%3C/svg%3E" alt="FR">
                <div class="lang-name">FranÃ§ais</div>
            </div>
            <div class="lang-card" onclick="selectLang('en')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 60 30'%3E%3Cpath fill='%23012169' d='M0 0h60v30H0z'/%3E%3Cpath stroke='%23FFF' stroke-width='6' d='M0 0l60 30m0-30L0 30'/%3E%3Cpath stroke='%23C8102E' stroke-width='4' d='M0 0l60 30m0-30L0 30'/%3E%3Cpath stroke='%23FFF' stroke-width='10' d='M30 0v30M0 15h60'/%3E%3Cpath stroke='%23C8102E' stroke-width='6' d='M30 0v30M0 15h60'/%3E%3C/svg%3E" alt="EN">
                <div class="lang-name">English</div>
            </div>
            <div class="lang-card" onclick="selectLang('de')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 5 3'%3E%3Cpath d='M0 0h5v3H0z'/%3E%3Cpath fill='%23D00' d='M0 1h5v2H0z'/%3E%3Cpath fill='%23FFCE00' d='M0 2h5v1H0z'/%3E%3C/svg%3E" alt="DE">
                <div class="lang-name">Deutsch</div>
            </div>
            <div class="lang-card" onclick="selectLang('es')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 750 500'%3E%3Cpath fill='%23c60b1e' d='M0 0h750v500H0z'/%3E%3Cpath fill='%23ffc400' d='M0 125h750v250H0z'/%3E%3C/svg%3E" alt="ES">
                <div class="lang-name">EspaÃ±ol</div>
            </div>
            <div class="lang-card" onclick="selectLang('it')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 3 2'%3E%3Cpath fill='%23009246' d='M0 0h1v2H0z'/%3E%3Cpath fill='%23fff' d='M1 0h1v2H1z'/%3E%3Cpath fill='%23ce2b37' d='M2 0h1v2H2z'/%3E%3C/svg%3E" alt="IT">
                <div class="lang-name">Italiano</div>
            </div>
            <div class="lang-card" onclick="selectLang('ar')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 900 600'%3E%3Cpath fill='%23165e3a' d='M0 0h900v600H0z'/%3E%3C/svg%3E" alt="AR">
                <div class="lang-name">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
            </div>
            <div class="lang-card" onclick="selectLang('pt')">
                <img class="lang-flag" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400'%3E%3Cpath fill='%23060' d='M0 0h600v400H0z'/%3E%3Cpath fill='%23ff0' d='M0 0h250v400H0z'/%3E%3C/svg%3E" alt="PT">
                <div class="lang-name">PortuguÃªs</div>
            </div>
        </div>
    </div>
</div>

<!-- AUTH SCREEN -->
<div id="authScreen" class="auth-screen" style="display:none">
    <div class="auth-bg"><div class="auth-particles" id="particles"></div></div>
    <div class="auth-container">
        <div class="auth-logo animate-down">
            <span class="auth-logo-icon">âš¡</span>
            <h1 class="auth-logo-text">ChronoFlow</h1>
        </div>
        <p class="auth-tagline animate-down delay-1">Ton assistant planning intelligent</p>
        
        <div class="auth-tabs animate-down delay-2">
            <button class="auth-tab active" data-tab="login" onclick="switchAuthTab('login')">Se connecter</button>
            <button class="auth-tab" data-tab="register" onclick="switchAuthTab('register')">S'inscrire</button>
            <div class="auth-tab-slider" id="authTabSlider"></div>
        </div>
        
        <div class="auth-forms-container">
            <div class="auth-form-wrapper active" id="loginFormWrapper">
                <div class="auth-form" id="loginForm">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="loginEmail" placeholder="toi@exemple.com">
                    </div>
                    <div class="form-group">
                        <label>Mot de passe</label>
                        <input type="password" id="loginPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    <button class="btn-auth" onclick="handleLogin()">Se connecter â†’</button>
                </div>
            </div>
            
            <div class="auth-form-wrapper" id="registerFormWrapper">
                <div class="auth-form" id="registerForm">
                    <div class="form-group">
                        <label>PrÃ©nom *</label>
                        <input type="text" id="regName" placeholder="Marie">
                    </div>
                    <div class="form-group">
                        <label>Email *</label>
                        <input type="email" id="regEmail" placeholder="toi@exemple.com">
                    </div>
                    <div class="form-group">
                        <label>Mot de passe *</label>
                        <input type="password" id="regPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>
                    <button class="btn-auth" onclick="handleRegister()">CrÃ©er mon compte â†’</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ONBOARDING -->
<div id="onboardingScreen" class="auth-screen" style="display:none">
    <div class="auth-bg"><div class="auth-particles" id="particles2"></div></div>
    <div class="auth-container wide">
        <div class="ob-step active" id="obStep1">
            <div class="ob-welcome">
                <div class="ob-icon animate-pop">âš¡</div>
                <h1 class="ob-title animate-down delay-1">Bienvenue sur<br><span>ChronoFlow</span></h1>
                <p class="ob-sub animate-down delay-2">Choisis ton profil</p>
            </div>
            <div class="profile-cards animate-up delay-3">
                <div class="profile-card-big" onclick="selectProfile('student')">
                    <div class="profile-card-icon">ğŸ“</div>
                    <h3>Ã‰tudiant</h3>
                    <p>Cours, rÃ©visions</p>
                    <button class="btn-choose">Choisir</button>
                </div>
                <div class="profile-card-big" onclick="selectProfile('worker')">
                    <div class="profile-card-icon">ğŸ’¼</div>
                    <h3>Travailleur</h3>
                    <p>Projets</p>
                    <button class="btn-choose">Choisir</button>
                </div>
                <div class="profile-card-big" onclick="selectProfile('custom')">
                    <div class="profile-card-icon">âœ¨</div>
                    <h3>PersonnalisÃ©</h3>
                    <p>Je configure</p>
                    <button class="btn-choose">Choisir</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- WELCOME CHRONOS MODAL -->
<div id="welcomeChronosModal" class="modal-full" style="display:none">
    <div class="welcome-chronos-content">
        <div class="chronos-large">
            <div class="chronos-character" id="welcomeChronos">âš¡</div>
        </div>
        <div class="chronos-welcome-bubble">
            <h2>Bienvenue sur ChronoFlow !</h2>
            <p id="welcomeChronosText">Je suis Chronos, ton assistant personnel. Je vais t'aider Ã  organiser ton temps comme un pro !</p>
            <p style="margin-top:1rem;font-weight:600">Veux-tu que je te fasse visiter l'application ?</p>
            <div class="chronos-welcome-btns">
                <button class="btn-secondary" onclick="skipTutorial()">Non merci</button>
                <button class="btn-primary" onclick="startTutorial()">Oui, montre-moi ! ğŸš€</button>
            </div>
        </div>
    </div>
</div>

<!-- APP -->
<div id="appScreen" class="app-screen" style="display:none">
    
    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorialOverlay" style="display:none"></div>
    
    <!-- Tutorial Spotlight -->
    <div class="tutorial-spotlight" id="tutorialSpotlight" style="display:none"></div>

    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <button class="btn-sidebar" id="sidebarHover">
                <span class="ham-line"></span>
                <span class="ham-line"></span>
                <span class="ham-line"></span>
            </button>
        </div>
        <div class="header-center">
            <div class="logo-link" onclick="reloadApp()">
                <span class="logo-icon">âš¡</span>
                <span class="logo-text">ChronoFlow</span>
            </div>
        </div>
        <div class="header-right">
            <div class="theme-toggle-modern" id="themeToggleModern">
                <div class="theme-option" data-theme="light">â˜€ï¸</div>
                <div class="theme-option active" data-theme="dark">ğŸŒ™</div>
                <div class="theme-slider"></div>
            </div>
            <div class="streak-badge" onclick="switchView('badges')">
                <span>ğŸ”¥</span>
                <span id="headerStreak">0</span>
            </div>
            <button class="avatar-btn" onclick="switchView('profile')" id="headerAvatarBtn">
                <span id="headerAvatarEmoji">ğŸ‘¤</span>
                <img id="headerAvatarImg" src="" alt="" style="display:none">
            </button>
        </div>
    </header>

    <div class="app-body">
        <!-- Sidebar Mini -->
        <aside class="sidebar-mini" id="sidebar">
            <nav class="nav-mini">
                <button class="nav-mini-btn active" data-view="planning" onclick="switchView('planning')">
                    <span class="nav-mini-icon">ğŸ“‹</span>
                    <span class="nav-mini-label">Planning</span>
                </button>
                <button class="nav-mini-btn" data-view="calendar" onclick="switchView('calendar')">
                    <span class="nav-mini-icon">ğŸ“…</span>
                    <span class="nav-mini-label">Calendrier</span>
                </button>
                <button class="nav-mini-btn" data-view="insights" onclick="switchView('insights')">
                    <span class="nav-mini-icon">ğŸ“Š</span>
                    <span class="nav-mini-label">Insights</span>
                </button>
                <button class="nav-mini-btn" data-view="templates" onclick="switchView('templates')">
                    <span class="nav-mini-icon">ğŸ“</span>
                    <span class="nav-mini-label">Templates</span>
                </button>
                <button class="nav-mini-btn" data-view="badges" onclick="switchView('badges')">
                    <span class="nav-mini-icon">ğŸ†</span>
                    <span class="nav-mini-label">Badges</span>
                </button>
                <button class="nav-mini-btn" data-view="settings" onclick="switchView('settings')">
                    <span class="nav-mini-icon">âš™ï¸</span>
                    <span class="nav-mini-label">ParamÃ¨tres</span>
                </button>
            </nav>
        </aside>

        <!-- Content -->
        <main class="content">

            <!-- Chronos Assistant (always visible) -->
            <div class="chronos-assistant" id="chronosAssistant" onclick="openChronosChat()">
                <div class="chronos-avatar" id="chronosAvatar">
                    <div class="chronos-suit" id="chronosSuit">ğŸ‘”</div>
                    <div class="chronos-head">âš¡</div>
                </div>
                <div class="chronos-bubble-mini" id="chronosBubbleMini">Clique pour discuter !</div>
            </div>

            <!-- AI Input -->
            <div class="ai-panel" id="aiPanel">
                <div class="ai-inner">
                    <textarea id="aiInput" placeholder="Dis-moi ce que tu veux planifier...&#10;Ex: J'ai une Ã©val de maths dans 3 jours et j'ai rien rÃ©visÃ©"></textarea>
                    <div class="ai-actions">
                        <div class="quick-tags">
                            <button class="tag" data-txt="Je suis fatiguÃ© cette semaine" onclick="addTag(this)">ğŸ˜´ FatiguÃ©</button>
                            <button class="tag" data-txt="J'ai un examen important et j'ai rien rÃ©visÃ©" onclick="addTag(this)">ğŸ“š Examen</button>
                            <button class="tag" data-txt="Voir mes amis ce weekend" onclick="addTag(this)">ğŸ‘¥ Amis</button>
                            <button class="tag" data-txt="Sport 3 fois cette semaine" onclick="addTag(this)">ğŸƒ Sport</button>
                            <button class="tag" data-txt="Besoin d'Ã©quilibre vie perso et travail" onclick="addTag(this)">âš–ï¸ Ã‰quilibre</button>
                        </div>
                        <div class="ai-right-actions">
                            <button class="btn-voice" onclick="startVoice()" id="voiceBtn">ğŸ¤</button>
                            <button class="btn-generate" onclick="generate()">
                                <span>GÃ©nÃ©rer</span>
                                <span>âœ¨</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEWS (Planning, Calendar, Insights, Templates, Badges, Profile, Settings) -->
            <!-- Je vais mettre les structures minimales ici, le contenu sera gÃ©nÃ©rÃ© en JS -->
            
            <div class="view active" id="viewPlanning">
                <div class="view-header centered">
                    <h2>Mon Planning <span class="template-badge" id="planningTemplateBadge"></span></h2>
                    <div class="week-nav">
                        <button class="nav-arrow" onclick="changeWeek(-1)">â†</button>
                        <span id="weekLabel">Cette semaine</span>
                        <button class="nav-arrow" onclick="changeWeek(1)">â†’</button>
                    </div>
                </div>
                <div class="priority-legend">
                    <span>PrioritÃ©s :</span>
                    <span class="pill critical">ğŸ”´ Critique</span>
                    <span class="pill high">ğŸŸ  Haute</span>
                    <span class="pill medium">ğŸŸ¡ Moyenne</span>
                    <span class="pill low">ğŸŸ¢ Basse</span>
                </div>
                <div id="planningGrid" class="planning-grid"></div>
                <div class="event-sections">
                    <div class="event-section">
                        <h3>ğŸ“ Aujourd'hui</h3>
                        <div id="todayList"><p class="hint">Rien</p></div>
                    </div>
                    <div class="event-section">
                        <h3>ğŸ“… Ã€ venir</h3>
                        <div id="upcomingList"><p class="hint">Rien</p></div>
                    </div>
                </div>
            </div>

            <div class="view" id="viewCalendar">
                <div class="view-header centered">
                    <h2>Calendrier</h2>
                    <div class="week-nav">
                        <button class="nav-arrow" onclick="changeMonth(-1)">â†</button>
                        <span id="monthLabel">FÃ©vrier 2026</span>
                        <button class="nav-arrow" onclick="changeMonth(1)">â†’</button>
                    </div>
                </div>
                <div id="monthCal" class="month-cal"></div>
            </div>

            <div class="view" id="viewInsights">
                <div class="view-header centered"><h2>Insights ğŸ“Š</h2></div>
                <div id="insightsGrid" class="insights-grid"></div>
            </div>

            <div class="view" id="viewTemplates">
                <div class="view-header centered"><h2>Templates</h2></div>
                <div id="templatesContent"></div>
            </div>

            <div class="view" id="viewBadges">
                <div class="view-header centered"><h2>Badges & Progression ğŸ†</h2></div>
                
                <!-- XP Bar -->
                <div class="xp-container">
                    <div class="xp-level">Niveau <span id="xpLevel">1</span></div>
                    <div class="xp-bar-wrapper">
                        <div class="xp-bar">
                            <div class="xp-bar-fill" id="xpBarFill"></div>
                        </div>
                        <div class="xp-text"><span id="xpCurrent">0</span> / <span id="xpNeeded">100</span> XP</div>
                    </div>
                    <div class="rank-badge" id="rankBadge">ğŸ¥‰ Bronze</div>
                </div>
                
                <div class="streak-hero">
                    <div class="streak-flame">ğŸ”¥</div>
                    <div>
                        <h2><span id="streakCount">0</span> jours</h2>
                        <p id="streakMsg">Continue !</p>
                    </div>
                </div>
                <div id="badgeGrid" class="badge-grid"></div>
            </div>

            <div class="view" id="viewProfile">
                <div class="view-header centered"><h2>Profil</h2></div>
                <div class="profile-layout">
                    <div class="profile-left">
                        <div class="profile-avatar-wrap" id="profileAvatarWrap">
                            <div class="profile-avatar">
                                <span id="profileAvatarEmoji">ğŸ‘¤</span>
                                <img id="profileAvatarImg" src="" alt="" style="display:none">
                                <div class="camera-overlay" onclick="document.getElementById('avatarFileInput').click()">ğŸ“·</div>
                            </div>
                            <input type="file" id="avatarFileInput" accept="image/*" style="display:none" onchange="handleAvatarChange(this)">
                        </div>
                        <h3 id="profileName">User</h3>
                        <p id="profileEmail"></p>
                    </div>
                    <div class="profile-right">
                        <div class="stats-grid">
                            <div class="stat-card"><span class="stat-val" id="statEvents">0</span><span class="stat-lbl">Ã‰vÃ©nements</span></div>
                            <div class="stat-card"><span class="stat-val" id="statStreak">0</span><span class="stat-lbl">Jours</span></div>
                            <div class="stat-card"><span class="stat-val" id="statHours">0</span><span class="stat-lbl">Heures</span></div>
                            <div class="stat-card"><span class="stat-val" id="statXP">0</span><span class="stat-lbl">XP</span></div>
                        </div>
                        <div class="profile-settings">
                            <h3>Infos</h3>
                            <div class="form-group"><label>PrÃ©nom</label><input type="text" id="profileNameInput"></div>
                            <div class="form-group"><label>Email (non modifiable)</label><input type="email" id="profileEmailInput" disabled></div>
                            <button class="btn-primary" onclick="saveProfile()">Sauvegarder</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="view" id="viewSettings">
                <div class="view-header centered"><h2>ParamÃ¨tres âš™ï¸</h2></div>
                <div class="settings-content">
                    <div class="setting-card">
                        <h3>ğŸŒ Langue</h3>
                        <div class="lang-dropdown" id="langDropdown" onclick="toggleLangDropdown()">
                            <span id="langCurrent">ğŸ‡«ğŸ‡· FranÃ§ais</span>
                            <span class="dropdown-arrow">â–¼</span>
                        </div>
                        <div class="lang-dropdown-menu" id="langDropdownMenu"></div>
                    </div>
                    
                    <div class="setting-card">
                        <h3>ğŸ”” Notifications</h3>
                        <div class="setting-row">
                            <span>Ã‰vÃ©nements Ã  venir</span>
                            <div class="toggle-modern" id="toggleEvents" onclick="toggleSetting('events')">
                                <div class="toggle-option" data-val="yes">Oui</div>
                                <div class="toggle-option active" data-val="no">Non</div>
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                        <div class="setting-row">
                            <span>Rappels quotidiens</span>
                            <div class="toggle-modern" id="toggleDaily" onclick="toggleSetting('daily')">
                                <div class="toggle-option" data-val="yes">Oui</div>
                                <div class="toggle-option active" data-val="no">Non</div>
                                <div class="toggle-slider"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="setting-card">
                        <h3>ğŸ”’ ConfidentialitÃ©</h3>
                        <button class="btn-secondary" onclick="requestPasswordChange()">Changer le mot de passe</button>
                    </div>
                    
                    <div class="setting-card">
                        <h3>ğŸ“Š DonnÃ©es</h3>
                        <button class="btn-secondary" onclick="exportData()">Exporter mes donnÃ©es</button>
                        <button class="btn-danger" onclick="deleteAccount()">Supprimer mon compte</button>
                    </div>
                </div>
            </div>

        </main>
    </div>
</div>

<!-- Chronos Chat Modal -->
<div class="modal-full" id="chronosChatModal" style="display:none" onclick="if(event.target === this) closeChronosChat()">
    <div class="chronos-chat-container">
        <div class="chronos-chat-header">
            <div class="chronos-chat-avatar">âš¡</div>
            <div>
                <h3>Chronos</h3>
                <p>Ton assistant personnel</p>
            </div>
            <button class="modal-close-btn" onclick="closeChronosChat()">âœ•</button>
        </div>
        <div class="chronos-chat-messages" id="chronosChatMessages"></div>
        <div class="chronos-chat-input">
            <input type="text" id="chronosChatInput" placeholder="Demande conseil Ã  Chronos...">
            <button onclick="sendChronosMessage()">Envoyer</button>
        </div>
    </div>
</div>

<!-- Tutorial Bubble (Chronos speaking during tutorial) -->
<div class="tutorial-bubble" id="tutorialBubble" style="display:none">
    <div class="chronos-tutorial-avatar">âš¡</div>
    <div class="tutorial-bubble-content">
        <p id="tutorialBubbleText"></p>
        <button class="btn-tutorial-next" id="tutorialNextBtn" onclick="nextTutorialStep()" style="display:none">Suivant â†’</button>
    </div>
</div>

<!-- Modals (Day Detail, Insight Detail, Event Detail, Password, Voice) -->
<div class="modal-full" id="dayDetailModal" style="display:none" onclick="if(event.target === this) closeDayDetail()">
    <div class="modal-full-content">
        <button class="modal-close-btn" onclick="closeDayDetail()">âœ•</button>
        <div id="dayDetailContent"></div>
    </div>
</div>

<div class="modal-full" id="insightDetailModal" style="display:none" onclick="if(event.target === this) closeInsightDetail()">
    <div class="modal-full-content">
        <button class="modal-close-btn" onclick="closeInsightDetail()">âœ•</button>
        <div id="insightDetailContent"></div>
    </div>
</div>

<div class="modal" id="eventDetailModal" style="display:none">
    <div class="modal-box">
        <h3 id="eventDetailTitle">DÃ©tails</h3>
        <div id="eventDetailBody"></div>
        <div class="priority-selector" id="prioritySelector">
            <label>PrioritÃ© :</label>
            <button class="priority-btn critical" onclick="changePriority('critical')">ğŸ”´ Critique</button>
            <button class="priority-btn high" onclick="changePriority('high')">ğŸŸ  Haute</button>
            <button class="priority-btn medium" onclick="changePriority('medium')">ğŸŸ¡ Moyenne</button>
            <button class="priority-btn low" onclick="changePriority('low')">ğŸŸ¢ Basse</button>
        </div>
        <div class="modal-btns">
            <button class="btn-secondary" onclick="closeEventDetail()">Fermer</button>
        </div>
    </div>
</div>

<div class="modal" id="passwordModal" style="display:none">
    <div class="modal-box">
        <h3>ğŸ”’ Changer le mot de passe</h3>
        <p>Code envoyÃ© : <strong id="pwdEmail"></strong></p>
        <div class="form-group"><label>Code</label><input type="text" id="pwdCode" placeholder="123456"></div>
        <div class="form-group"><label>Nouveau mot de passe</label><input type="password" id="pwdNew" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"></div>
        <div class="modal-btns">
            <button class="btn-secondary" onclick="closeModal('passwordModal')">Annuler</button>
            <button class="btn-primary" onclick="confirmPasswordChange()">Confirmer</button>
        </div>
    </div>
</div>

<div class="modal" id="voiceModal" style="display:none">
    <div class="modal-box">
        <h3>ğŸ¤ Enregistrement</h3>
        <div class="voice-indicator">
            <div class="voice-ring"></div>
            <div class="voice-ring delay1"></div>
            <div class="voice-ring delay2"></div>
            <span>ğŸ¤</span>
        </div>
        <p id="voiceStatus">Parle...</p>
        <p id="voiceTranscript" class="voice-transcript"></p>
        <div class="modal-btns">
            <button class="btn-secondary" onclick="stopVoice()">Annuler</button>
            <button class="btn-primary" id="voiceConfirm" onclick="confirmVoice()" style="display:none">Utiliser</button>
        </div>
    </div>
</div>

<!-- Toast -->
<div class="toast" id="toast">
    <span class="toast-icon">âœ¨</span>
    <span id="toastMsg"></span>
</div>

<!-- Loading -->
<div class="loading" id="loading" style="display:none">
    <div class="loading-inner">
        <div class="loading-ring"></div>
        <p>L'IA analyse...</p>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
